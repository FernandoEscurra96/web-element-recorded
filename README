UI Flow Recorder â€“ Chrome Extension + Selenium Generator

Esta extensiÃ³n permite grabar interacciones de usuario en una web (clicks, inputs, selects, etc.) y exportarlas como pasos que luego se pueden transformar en tests automatizados con Selenium.

ğŸ“Œ CaracterÃ­sticas

ğŸ”˜ BotÃ³n de grabaciÃ³n en la extensiÃ³n (popup) para iniciar y detener la captura de pasos.

ğŸ–±ï¸ Captura de clicks en botones, enlaces, inputs tipo submit o button.

âŒ¨ï¸ Captura de inputs (text, tel, email, password, etc.):

Registra cambios en blur, change.

Registra valores al presionar Enter o Tab.

ğŸ”½ Captura de selects:

Registra el value y el text de la opciÃ³n elegida.

AÃ±ade el label mÃ¡s cercano como context.

Si hay varios selects idÃ©nticos, se asigna un campo index para distinguirlos.

ğŸ”„ DetecciÃ³n dinÃ¡mica con MutationObserver: inputs o selects aÃ±adidos despuÃ©s del load tambiÃ©n se capturan.

ğŸ›¡ï¸ Manejo de errores: si el contexto de la extensiÃ³n se invalida (al recargarla en desarrollo), no rompe los listeners.

ğŸ“‚ Estructura del proyecto
ui-flow-recorder/
â”‚
â”œâ”€â”€ manifest.json         # ConfiguraciÃ³n de la extensiÃ³n
â”œâ”€â”€ background.js         # (Opcional) worker para manejar mensajes
â”œâ”€â”€ popup.html            # UI con botÃ³n iniciar/detener grabaciÃ³n
â”œâ”€â”€ popup.js              # LÃ³gica del popup
â”œâ”€â”€ content.js            # Captura de eventos en la pÃ¡gina
â””â”€â”€ README.md             # Este archivo

âš™ï¸ InstalaciÃ³n en Chrome

Clona este repo o descarga el ZIP.

Ve a chrome://extensions/.

Activa Modo desarrollador (arriba a la derecha).

Haz clic en Cargar descomprimida y selecciona la carpeta del proyecto.

VerÃ¡s la extensiÃ³n instalada.

â–¶ï¸ Uso

Haz clic en el icono de la extensiÃ³n en la barra de Chrome.

Pulsa el botÃ³n Iniciar grabaciÃ³n.

Navega por la pÃ¡gina y realiza tu flujo:

Clicks en botones, links.

Inputs (blur, Enter, Tab).

Selects (se captura label mÃ¡s cercano y value).

Cuando termines, pulsa Detener grabaciÃ³n.

Los pasos capturados se guardan como JSON en background.js (o se envÃ­an a tu servidor si configuras endpoint).

ğŸ“œ Ejemplo de step capturado
{
  "action": "select",
  "selector": "[name=\"relationshipc13\"]",
  "id": "relationshipc13",
  "name": "relationshipc13",
  "class": null,
  "index": null,
  "value": "1",
  "text": "Padre/Madre",
  "context": "Parentesco",
  "url": "https://test-applicant.azurewebsites.net/#loan/personal/reference/1642",
  "timestamp": 1756340839198
}

ğŸ¤– GeneraciÃ³n de cÃ³digo Selenium

Con los pasos capturados, puedes generar tests Selenium.
Ejemplo en Python:

from selenium.webdriver.common.by import By

# Ejemplo de step SELECT
step = {
  "action": "select",
  "selector": "[name=\"relationshipc13\"]",
  "value": "1",
  "text": "Padre/Madre",
  "context": "Parentesco",
  "index": 0
}

# Usando contexto + texto
select_el = driver.find_element(
    By.XPATH,
    f"//label[contains(text(),'{step['context']}')]/following::select[{step['index']+1}]"
)
select_el.click()
select_el.find_element(By.XPATH, f".//option[text()='{step['text']}']").click()

âš ï¸ Errores comunes

Extension context invalidated
â†’ Aparece cuando recargas la extensiÃ³n y no refrescas la pÃ¡gina.
âœ… SoluciÃ³n: refresca la pÃ¡gina despuÃ©s de recargar la extensiÃ³n en chrome://extensions.
âœ… Mitigado: sendStep() ya incluye try/catch para no romper los listeners.

ğŸš€ Futuras mejoras

Exportar los pasos capturados directamente a cÃ³digo Selenium JS o Python.

AÃ±adir soporte para checkbox, radio y textarea.

Integrar con un servidor para guardar y versionar flujos.

UI en el popup para listar los pasos grabados.

ğŸ“„ Licencia

MIT â€“ libre para usar y modificar.